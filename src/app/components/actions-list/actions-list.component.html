<div class="actions-container">
  <div class="actions-header">
    <h3>Actions Management</h3>
  </div>
  
  <div class="actions-list">
    @for (action of actions; track action.id) {
      <div
        class="{{ getActionClasses(action) }}"
        (click)="onActionClick(action)"
        (keydown.enter)="onActionClick(action)"
        (keydown.space)="onActionClick(action)"
        tabindex="0"
        role="button">
      
      <div class="action-color" 
           [style.background-color]="getActionColor(action)"
           [style.color]="getContrastColor(getActionColor(action))">
        â—
      </div>
      
      <div class="action-info">
        <div class="action-name">{{ action.name }}</div>
        <div class="action-mapping">{{ getMappingDisplay(action) }}</div>
      </div>
      
      <div class="action-controls">
        <button
          class="control-btn clear-btn"
          (click)="onClearMapping(action, $event)"
          [disabled]="!action.keyMappings || action.keyMappings.size === 0"
          title="Clear keybind">
          ğŸš«
        </button>
        <button 
          class="control-btn delete-btn" 
          (click)="onDeleteAction(action, $event)"
          title="Delete action">
          ğŸ—‘ï¸
        </button>
        <button 
          class="control-btn edit-btn" 
          (click)="onEditAction(action, $event)"
          title="Edit action">
          âœï¸
        </button>
      </div>
      </div>
    }

    <div class="add-action-container">
      <button class="add-action-btn" (click)="onAddAction()">
        â• Add New Action
      </button>
    </div>
  </div>
  
  <div class="instructions">
    ğŸ’¡ Instructions: Select an action above, then click a key on the keyboard to assign the mapping. Use ğŸš« to clear a keybind without removing the action.
  </div>
</div>

<!-- Action Dialog -->
@if (showActionDialog) {
  <app-action-dialog
    [action]="editingAction"
    (save)="onDialogSave($event)"
    (cancelled)="onDialogCancel()">
  </app-action-dialog>
}
